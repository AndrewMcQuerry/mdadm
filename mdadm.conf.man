MDADM.CONF(5)                                       MDADM.CONF(5)



NNAAMMEE
       mdadm.conf - configuration for management of Software Raid
       with mdadm

SSYYNNOOPPSSIISS
       /etc/mdadm.conf

DDEESSCCRRIIPPTTIIOONN
       mmddaaddmm is a tool for  creating,  managing,  and  monitoring
       RAID devices using the mmdd driver in Linux.

       Some  common  tasks, such as assembling all arrays, can be
       simplified by describing the devices  and  array  in  this
       configuration file.


   SSYYNNTTAAXX
       The file should be seen as a collection of words separated
       by white space (space, tab, or newline).   Any  word  that
       beings with a hash sign (#) starts a comment and that word
       together with the remainder of the line are ignored.

       Any line that start with white space  (space  or  tab)  is
       treated  as  though it were a continuation of the previous
       line.

       Empty lines are ignored, but otherwise each (non continua-
       tion) line must start with a keyword as listed below.  The
       key words are case insensitive and can be abbreviated to 3
       characters.

       The keywords are:

       DDEEVVIICCEE A  ddeevviiccee  line lists the devices (whole devices or
              partitions) that might contain a component of an MD
              array.   When  looking  for  the  components  of an
              array, mmddaaddmm will scan these devices and no others.

              The  ddeevviiccee  line may contain a number of different
              devices (separated by spaces) and each device  name
              can contain wild cards as defined by gglloobb(7).

              Also,  there may be several device lines present in
              the file.

              For example:

              DEVICE /dev/hda* /dev/hdc*
              DEV    /dev/sd*
              DEVICE /dev/discs/disc*/disc


       AARRRRAAYY  The ARRAY lines identify actual arrays.  The second
              word  on  the line should be the name of the device
              where the array  is  normally  assembled,  such  as
              //ddeevv//mmdd11.   Subsequent words identify the array, or
              identify the array as a member of a group. If  mul-
              tiple  identities  are  given,  then the array must
              match ALL identities  to  be  considered  a  match.
              Each  identity word has a tag, and equals sign, and
              some value.  The options are:


           uuuuiidd==  The value should be a 128 bit uuid in hexadeci-
                  mal,  with punctuation interspersed if desired.
                  This  must  match  the  uuid  stored   in   the
                  superblock.

           ssuuppeerr--mmiinnoorr==
                  The  value  is  an  integer which indicates the
                  minor number that was stored in the  superblock
                  when  the  array  was created. When an array is
                  created as /dev/mdX, then the minor number X is
                  stored.

           ddeevviicceess==
                  The  value  is a comma separated list of device
                  names. Precisely these devices will be used  to
                  assemble  the  array.   Note  that  the devices
                  listed there must also be listed  on  a  DEVICE
                  line.

           lleevveell== The  value  is  a raid level.  This is not nor-
                  mally used to identify an array,  but  is  sup-
                  ported so that the output of

                  mmddaaddmm ----eexxaammiinnee ----ssccaann

                  can  be use directly in the configuration file.

           ddiisskkss== The value is the number of disks in a  complete
                  active  array.   As  with lleevveell== this is mainly
                  for compatibility with the output of

                  mmddaaddmm ----eexxaammiinnee ----ssccaann.


           ssppaarree--ggrroouupp==
                  The value is a textual  name  for  a  group  of
                  arrays.   All  arrays with the same ssppaarree--ggrroouupp
                  name are considered to  be  part  of  the  same
                  group.   The  significance of a group of arrays
                  is that mmddaaddmm will, when monitoring the arrays,
                  move a spare drive from one array in a group to
                  another array in that group if the first  array
                  had a failed or missing drive but no spare.


       MMAAIILLAADDDDRR
              The  mmaaiillaaddddrr  line  gives  an  E-mail address that
              alerts should be sent to when is running in ----mmoonnii--
              ttoorr  mode (and was given the ----ssccaann option).  There
              should only be one MMAAIILLAADDDDRR line and it should have
              only one address.



       PPRROOGGRRAAMM
              The  pprrooggrraamm line gives the name of a program to be
              run when mmddaaddmm ----mmoonniittoorr detects potentially inter-
              esting events on any of the arrays that it is moni-
              toring.  This program gets run with  two  or  three
              arguments, they being the Event, the md device, and
              possibly the related component device.

              There should only be one pprrooggrraamm line and it should
              be give only one program.



SSEEEE AALLSSOO
       mmddaaddmm(8), mmdd(4).




                                                    MDADM.CONF(5)
